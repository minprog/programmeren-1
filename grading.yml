templates:
    1: &fullyauto
        type: pass
        subgrades:
            correctness: integer
        automatic:
            correctness: (correctness_score * 100).floor
        calculation: -(correctness/100)
        hide_subgrades: true
    3: &manual
        type: float
        subgrades:
            points: integer
            hacker: integer
            late: float
        calculation: ((points + hacker) / 6.0 * 9 + 1).round(1)
        hide_calculated: true
    4: &test
        type: pass
        subgrades:
            passed: integer
        calculation: passed
        is_test: true
        hide_subgrades: true

grades:
    water: *fullyauto
    scratch: *fullyauto
    greedy: *fullyauto
    mario_less: *fullyauto
    mario_more: *fullyauto
    credit: *fullyauto
    initials_less: *fullyauto
    initials_more: *fullyauto
    caesar: *fullyauto
    vigenere: *fullyauto
    crack: *fullyauto
    fifteen: *fullyauto
    fifteen_less: *fullyauto
    fifteen_more: *fullyauto
    find_less: *fullyauto
    find_more: *fullyauto
    whodunit:
        type: float
        subgrades:
            checked: boolean
        calculation: checked.to_i
        hide_calculated: true
    filter: *fullyauto
    resize_less: *fullyauto
    resize_more: *fullyauto
    recover: *fullyauto
    speller: *fullyauto
    module 0:
        type: pass
        subgrades:
            done: boolean
        calculation: done
        hide_subgrades: true
    module 1: *manual
    module 2: *manual
    module 3: *manual
    module 4: *manual
    module 5:
        type: float
        subgrades:
            points: integer
            hacker: integer
            late: float
        calculation: (points / 6.0 * 9).round(1)
        hide_calculated: true
    test A: *test
    test B: *test
    test C: *test
    test D: *test
    test E: *test
    test F: *test
    test G: *test
    pidac: *test
    resit:
        type: float

modules:
    module 0:
        - scratch
    module 1:
        - water
        - greedy
        - credit
        - mario_less
        - mario_more
    module 2:
        - initials_less
        - initials_more
        - caesar
        - vigenere
        - crack
    module 3:
        - fifteen
        - fifteen_less
        - fifteen_more
        - find_less
        - find_more
    module 4:
        - whodunit
        - filter
        - resize_less
        - resize_more
        - recover
    module 5:
        - speller

calculation:
    final:
        tests: 0
        problems: 100
# resit:
#     tests: 0
#     modules: 100

problems:
    show_progress: true
    submits:
        # module 0: 0
        module 1: 1
        module 2: 1
        module 3: 1
        module 4: 1
        module 5: bonus

tests:
    show_progress: true
    required: true
    submits:
        test A: 1
        test B: 1
        test C: 1
        test D: 1
        test E: 1
        test F: 1
        test G: 1
